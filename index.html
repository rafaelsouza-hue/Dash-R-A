<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Relat√≥rios Gerenciais - SFAut</title>
    <link rel="stylesheet" href="assets/css/dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìä Dashboard de Relat√≥rios Gerenciais</h1>
            <p class="subtitle">Sistema de Automa√ß√£o de Testes - SFAut</p>
            <div class="header-actions">
                <button id="refreshBtn" class="btn btn-primary">üîÑ Atualizar</button>
                <button id="exportBtn" class="btn btn-secondary">üì• Exportar Dados</button>
                <!-- Bot√£o Limpar Dados removido para GitHub Pages - funcionalidade apenas local -->
            </div>
        </header>

        <!-- Sistema de Abas -->
        <div class="tabs-container">
            <div class="tabs-header">
                <button class="tab-btn active" data-tab="overview">
                    <span class="tab-icon">üìä</span>
                    <span class="tab-label">Vis√£o Geral</span>
                </button>
                <button class="tab-btn" data-tab="execution">
                    <span class="tab-icon">‚ñ∂Ô∏è</span>
                    <span class="tab-label">Execu√ß√£o</span>
                </button>
                <button class="tab-btn" data-tab="creation">
                    <span class="tab-icon">‚ûï</span>
                    <span class="tab-label">Cria√ß√£o</span>
                </button>
                <button class="tab-btn" data-tab="coverage">
                    <span class="tab-icon">‚úÖ</span>
                    <span class="tab-label">Cobertura</span>
                </button>
                <button class="tab-btn" data-tab="project">
                    <span class="tab-icon">üìà</span>
                    <span class="tab-label">Gest√£o de Projeto</span>
                </button>
            </div>
            <div class="tabs-content">
                <!-- Aba: Vis√£o Geral -->
                <div class="tab-panel active" id="overview-tab">
                    <!-- Painel de M√©tricas Principais -->
                    <section class="metrics-panel">
                        <h2>M√©tricas Principais</h2>
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <div class="metric-label">Total de Execu√ß√µes</div>
                                <div class="metric-value" id="metric-total-executions">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Taxa de Sucesso Geral</div>
                                <div class="metric-value" id="metric-success-rate">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Tempo Total Ganho</div>
                                <div class="metric-value" id="metric-time-gained">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Testes Automatizados</div>
                                <div class="metric-value" id="metric-automated-tests">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Taxa de Automa√ß√£o</div>
                                <div class="metric-value" id="metric-automation-rate">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Distribui√ß√£o de Execu√ß√µes por Ambientes</div>
                                <div class="metric-value" id="metric-env-distribution">-</div>
                            </div>
                        </div>
                    </section>

                    <!-- Gr√°ficos Consolidados -->
                    <section class="charts-section">
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Evolu√ß√£o de Sucesso (Consolidado)
                                <span class="tooltip-icon" data-tooltip="Evolu√ß√£o mensal das taxas de sucesso do ano atual, agrupando todas as execu√ß√µes de cada m√™s. Taxa Real: sucesso bruto de todos os testes. Taxa Ajustada: remove falhas por bugs do Salesforce, mostrando apenas a qualidade da automa√ß√£o.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-overview-success"></canvas>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Distribui√ß√£o por Ambiente
                                <span class="tooltip-icon" data-tooltip="Distribui√ß√£o de execu√ß√µes por ambiente (QA, STG, PROD).">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-overview-environments"></canvas>
                        </div>
                        <div class="chart-container chart-container-full-width">
                            <h3 class="chart-title-with-tooltip">
                                ROI de Automa√ß√£o
                                <span class="tooltip-icon" data-tooltip="Retorno sobre investimento geral: (Tempo Ganho / Tempo Investido) √ó 100. Mostra quantas vezes o tempo investido em automa√ß√£o foi recuperado. ROI > 100% significa economia de tempo.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-overview-roi"></canvas>
                            <div class="chart-roi-info-panel" id="roi-info-panel">
                                <div class="roi-info-placeholder">
                                    <p>Carregando dados de ROI...</p>
                                </div>
                            </div>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Tend√™ncia de Cria√ß√£o
                                <span class="tooltip-icon" data-tooltip="Tend√™ncia de cria√ß√£o de novos testes ao longo do tempo.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-overview-creation-trend"></canvas>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Taxa de Sucesso por Ambiente
                                <span class="tooltip-icon" data-tooltip="Compara√ß√£o de taxa de sucesso entre ambientes.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-overview-success-by-env"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3 class="chart-title-with-tooltip">
                                Velocidade de Automa√ß√£o
                                <span class="tooltip-icon" data-tooltip="Quantidade de testes automatizados por m√™s, baseado na data de automatiza√ß√£o. Mostra o ritmo de automa√ß√£o ao longo do tempo.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-automation-velocity"></canvas>
                        </div>
                    </section>
                </div>

                <!-- Aba: Execu√ß√£o -->
                <div class="tab-panel" id="execution-tab">
                    <!-- M√©tricas de Execu√ß√£o -->
                    <section class="metrics-panel">
                        <h2>M√©tricas de Execu√ß√£o</h2>
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <div class="metric-label">Total de Execu√ß√µes</div>
                                <div class="metric-value" id="metric-execution-total">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Regress√µes Completas</div>
                                <div class="metric-value" id="metric-total-regressions">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Execu√ß√µes Locais</div>
                                <div class="metric-value" id="metric-total-local">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Taxa de Sucesso</div>
                                <div class="metric-value" id="metric-execution-success-rate">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Taxa Ajustada</div>
                                <div class="metric-value" id="metric-adjusted-rate">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Testes API</div>
                                <div class="metric-value" id="metric-api-tests">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Testes UI</div>
                                <div class="metric-value" id="metric-ui-tests">-</div>
                            </div>
                        </div>
                    </section>

                    <!-- Filtros -->
                    <section class="filters-panel">
                        <h2>Filtros</h2>
                        <div class="filters-grid">
                            <div class="filter-group">
                                <label for="filter-date">Data:</label>
                                <input type="date" id="filter-date" class="filter-input">
                            </div>
                            <div class="filter-group">
                                <label for="filter-version">Vers√£o:</label>
                                <select id="filter-version" class="filter-input">
                                    <option value="">Todas</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="filter-release">Release:</label>
                                <select id="filter-release" class="filter-input">
                                    <option value="">Todas</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="filter-type">Tipo:</label>
                                <select id="filter-type" class="filter-input">
                                    <option value="">Todos</option>
                                    <option value="full">Regress√£o Completa</option>
                                    <option value="local">Execu√ß√£o Local</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="filter-env">Ambiente:</label>
                                <select id="filter-env" class="filter-input">
                                    <option value="">Todos</option>
                                    <option value="qa">QA</option>
                                    <option value="stg">STG</option>
                                    <option value="prod">PROD</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="filter-test-type">Tipo de Teste:</label>
                                <select id="filter-test-type" class="filter-input">
                                    <option value="">Todos</option>
                                    <option value="api">API</option>
                                    <option value="ui">UI</option>
                                    <option value="mixed">Misto</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <button id="applyFiltersBtn" class="btn btn-primary">Aplicar Filtros</button>
                                <button id="clearFiltersBtn" class="btn btn-secondary">Limpar</button>
                            </div>
                        </div>
                    </section>

                    <!-- Gr√°ficos de Execu√ß√£o -->
                    <section class="charts-section">
                        <div class="chart-container">
                            <h3 class="chart-title-with-tooltip">
                                Evolu√ß√£o de Taxa de Sucesso
                                <span class="tooltip-icon" data-tooltip="Mostra a evolu√ß√£o das taxas de sucesso ao longo do tempo por ambiente.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-success-evolution"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3 class="chart-title-with-tooltip">
                                Bugs Reais vs Instabilidade
                                <span class="tooltip-icon" data-tooltip="Compara bugs reais versus instabilidades por ambiente.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-bugs-vs-instability"></canvas>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Distribui√ß√£o de Falhas
                                <span class="tooltip-icon" data-tooltip="Distribui√ß√£o percentual de falhas.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-failure-distribution"></canvas>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Tempo de Execu√ß√£o
                                <span class="tooltip-icon" data-tooltip="Tempo de execu√ß√£o comparando manual vs automa√ß√£o.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-execution-time"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3 class="chart-title-with-tooltip">
                                Classifica√ß√£o de Erros por Tipo
                                <span class="tooltip-icon" data-tooltip="Distribui√ß√£o de erros classificados como c√≥digo de teste, bugs do Salesforce, problemas de ambiente ou desconhecidos.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-error-classification"></canvas>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Top Funcionalidades Testadas
                                <span class="tooltip-icon" data-tooltip="Funcionalidades mais testadas ao longo do tempo.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-functionalities"></canvas>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Bugs Reais vs Problemas de Ambiente
                                <span class="tooltip-icon" data-tooltip="Compara√ß√£o entre bugs reais do Salesforce e problemas relacionados a ambiente ou c√≥digo de teste.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-real-bugs-vs-environment"></canvas>
                        </div>
                    </section>

                    <!-- Tabela de Hist√≥rico -->
                    <section class="table-section">
                        <h2>Hist√≥rico de Execu√ß√µes</h2>
                        <div class="table-controls">
                            <input type="text" id="table-search" placeholder="üîç Buscar..." class="search-input">
                            <select id="table-sort" class="sort-select">
                                <option value="timestamp-desc">Data (Mais Recente)</option>
                                <option value="timestamp-asc">Data (Mais Antiga)</option>
                                <option value="successRate-desc">Taxa de Sucesso (Maior)</option>
                                <option value="successRate-asc">Taxa de Sucesso (Menor)</option>
                                <option value="totalTests-desc">Total de Testes (Maior)</option>
                                <option value="totalTests-asc">Total de Testes (Menor)</option>
                            </select>
                        </div>
                        <div class="table-wrapper">
                            <table id="executions-table" class="data-table">
                                <thead>
                                    <tr>
                                        <th>Data/Hora</th>
                                        <th>Vers√£o</th>
                                        <th>Release</th>
                                        <th>Tipo</th>
                                        <th>Teste</th>
                                        <th>Ambiente</th>
                                        <th>Total</th>
                                        <th>Passou</th>
                                        <th>Falhou</th>
                                        <th>Bugs</th>
                                        <th>Instabilidade</th>
                                        <th>Taxa Sucesso</th>
                                        <th>Taxa Ajustada</th>
                                        <th>Tempo</th>
                                        <th>A√ß√µes</th>
                                    </tr>
                                </thead>
                                <tbody id="executions-tbody">
                                    <tr>
                                        <td colspan="15" class="loading">Carregando dados...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>
                </div>

                <!-- Aba: Cria√ß√£o -->
                <div class="tab-panel" id="creation-tab">
                    <section class="metrics-panel">
                        <h2>M√©tricas de Cria√ß√£o</h2>
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <div class="metric-label">Testes Criados (Total)</div>
                                <div class="metric-value" id="metric-total-created">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Velocidade de Cria√ß√£o</div>
                                <div class="metric-value" id="metric-creation-velocity">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Taxa de Automa√ß√£o</div>
                                <div class="metric-value" id="metric-automation-rate-creation">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Testes Pendentes</div>
                                <div class="metric-value" id="metric-pending-creation">-</div>
                            </div>
                        </div>
                    </section>
                    <section class="charts-section">
                        <div class="chart-container">
                            <h3 class="chart-title-with-tooltip">
                                Evolu√ß√£o de Testes Criados
                                <span class="tooltip-icon" data-tooltip="Evolu√ß√£o do n√∫mero de testes criados ao longo do tempo.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-test-evolution"></canvas>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Automa√ß√£o vs Pendentes
                                <span class="tooltip-icon" data-tooltip="Distribui√ß√£o entre testes automatizados e pendentes.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-automation-status"></canvas>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Automa√ß√£o por Funcionalidade
                                <span class="tooltip-icon" data-tooltip="Distribui√ß√£o de automa√ß√£o por funcionalidade.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-automation-by-functionality"></canvas>
                        </div>
                    </section>
                </div>

                <!-- Aba: Cobertura -->
                <div class="tab-panel" id="coverage-tab">
                    <section class="metrics-panel">
                        <h2>M√©tricas de Cobertura</h2>
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <div class="metric-label">Objetos Analisados</div>
                                <div class="metric-value" id="metric-objects-analyzed">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Cobertura M√©dia</div>
                                <div class="metric-value" id="metric-avg-coverage">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Fluxos Cobertos</div>
                                <div class="metric-value" id="metric-flows-covered">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Gaps Identificados</div>
                                <div class="metric-value" id="metric-gaps-identified">-</div>
                            </div>
                        </div>
                    </section>
                    <section class="charts-section">
                        <div class="chart-container">
                            <h3 class="chart-title-with-tooltip">
                                Cobertura por Objeto
                                <span class="tooltip-icon" data-tooltip="Mostra a porcentagem de cobertura de testes regressivos para cada objeto da lista base. Considera apenas testes com tag @Regress√£o, flows ativos e campos em uso.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-coverage-by-object"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3 class="chart-title-with-tooltip">
                                Gaps de Cobertura
                                <span class="tooltip-icon" data-tooltip="Identifica os objetos com maior quantidade de gaps de cobertura (flows e cen√°rios n√£o cobertos por testes regressivos). Mostra apenas objetos da lista base com flows ativos.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-coverage-gaps"></canvas>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Cobertura por Record Type
                                <span class="tooltip-icon" data-tooltip="Distribui√ß√£o de cobertura de testes regressivos por Record Type. Considera apenas Record Types ativos dos objetos da lista base.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-coverage-by-record-type"></canvas>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Evolu√ß√£o de Cobertura
                                <span class="tooltip-icon" data-tooltip="Evolu√ß√£o da cobertura de testes regressivos ao longo do tempo. Baseado apenas em testes com tag @Regress√£o e flows ativos.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-coverage-evolution"></canvas>
                        </div>
                    </section>
                </div>

                <!-- Aba: Gest√£o de Projeto -->
                <div class="tab-panel" id="project-tab">
                    <section class="metrics-panel">
                        <h2>M√©tricas do Projeto</h2>
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <div class="metric-label">Objetos no Brain</div>
                                <div class="metric-value" id="metric-brain-objects">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Record Types Coletados</div>
                                <div class="metric-value" id="metric-record-types">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Validation Rules</div>
                                <div class="metric-value" id="metric-validation-rules">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Regras de Neg√≥cio</div>
                                <div class="metric-value" id="metric-business-rules">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Flows Mapeados</div>
                                <div class="metric-value" id="metric-flows-mapped">-</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Completude M√©dia</div>
                                <div class="metric-value" id="metric-completeness">-</div>
                            </div>
                        </div>
                    </section>
                    <section class="charts-section">
                        <div class="chart-container">
                            <h3 class="chart-title-with-tooltip">
                                Evolu√ß√£o do Brain
                                <span class="tooltip-icon" data-tooltip="O QUE ESTE GR√ÅFICO MOSTRA:&#10;&#10;  ‚Ä¢ üì¶ Linha Azul - Objetos Mapeados: Total acumulado de objetos Salesforce documentados no Brain&#10;  ‚Ä¢ üìã Linha Verde - Regras de Neg√≥cio: Total acumulado de documentos REGRAS_NEGOCIO_*.md criados&#10;  ‚Ä¢ ‚úÖ Linha Laranja Tracejada - Completude M√©dia: % de documenta√ß√£o completa dos objetos&#10;  ‚Ä¢ üéØ Linha Vermelha Tracejada - Meta: Objetivo de 80% de completude&#10;&#10;O Brain √© a base de conhecimento do projeto que mapeia objetos Salesforce, flows, regras de neg√≥cio e documenta√ß√£o. Este gr√°fico mostra a evolu√ß√£o temporal dessas m√©tricas.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-brain-evolution"></canvas>
                            <div id="brain-evolution-details" style="margin-top: 1.5rem; padding: 1rem; background-color: #1e293b; border-radius: 8px; border: 1px solid #334155; display: none;">
                                <h4 style="color: #f1f5f9; font-size: 0.875rem; font-weight: 600; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                                    <span id="brain-evolution-month-label">üìÖ M√™s</span>
                                </h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                    <div id="brain-evolution-objects-details" style="color: #cbd5e1; font-size: 0.875rem; line-height: 1.6;">
                                        <!-- Preenchido via JavaScript -->
                                    </div>
                                    <div id="brain-evolution-rules-details" style="color: #cbd5e1; font-size: 0.875rem; line-height: 1.6;">
                                        <!-- Preenchido via JavaScript -->
                                    </div>
                                </div>
                            </div>
                            <p class="chart-description" style="color: #94a3b8; font-size: 0.875rem; margin-top: 1rem; line-height: 1.6;">
                                <strong>üí° Dica:</strong> Passe o mouse sobre os pontos do gr√°fico para ver detalhes completos de cada m√™s, incluindo explica√ß√µes sobre o que s√£o os "eventos de atualiza√ß√£o".
                            </p>
                        </div>
                        <div class="chart-container">
                            <h3 class="chart-title-with-tooltip">
                                Completude por Objeto
                                <span class="tooltip-icon" data-tooltip="Mostra a porcentagem de completude da documenta√ß√£o para cada objeto do Brain. A completude √© calculada com base na presen√ßa de: record_types.json, enriched_data.json, fields_analysis.json e outros arquivos de documenta√ß√£o.&#10;&#10;  ‚Ä¢ üü¢ Verde: Completude ‚â• 80% (meta atingida)&#10;  ‚Ä¢ üü† Laranja: Completude entre 50% e 79%&#10;  ‚Ä¢ üî¥ Vermelho: Completude &lt; 50%&#10;&#10;  ‚Ä¢ Linha Azul Tracejada: Expectativa de 60%&#10;  ‚Ä¢ Linha Vermelha Tracejada: Meta de 80%">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-completeness-by-object"></canvas>
                            <div id="completeness-suggestions" style="display: none;"></div>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Regras de Neg√≥cio Documentadas
                                <span class="tooltip-icon" data-tooltip="Mostra a quantidade de documentos de regras de neg√≥cio criados por m√™s. Os documentos s√£o arquivos REGRAS_NEGOCIO_*.md que documentam as regras de neg√≥cio do projeto.&#10;&#10;  ‚Ä¢ Cada barra representa o n√∫mero de arquivos criados naquele m√™s&#10;  ‚Ä¢ Os arquivos s√£o analisados quanto ao n√≠vel de completude e conte√∫do&#10;  ‚Ä¢ Uma an√°lise detalhada √© exibida abaixo do gr√°fico">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-business-rules"></canvas>
                            <div id="business-rules-analysis" style="display: none;"></div>
                        </div>
                        <div class="chart-container chart-half">
                            <h3 class="chart-title-with-tooltip">
                                Timeline de Marcos
                                <span class="tooltip-icon" data-tooltip="Mostra os marcos importantes do projeto ao longo do tempo, incluindo datas de cria√ß√£o de objetos, regras de neg√≥cio e outras m√©tricas significativas.">‚ÑπÔ∏è</span>
                            </h3>
                            <canvas id="chart-milestones"></canvas>
                            <div id="milestones-summary" style="display: none;"></div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Detalhes -->
    <div id="detailsModal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Detalhes da Execu√ß√£o</h2>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- Modal de Limpeza de Dados removido para GitHub Pages - funcionalidade apenas local -->

    <script src="assets/js/data-loader.js?v=20260127-2"></script>
    <script src="assets/js/environment-analyzer.js"></script>
    <script src="assets/js/brain-data-loader.js"></script>
    <script src="assets/js/coverage-analyzer.js"></script>
    <script src="assets/js/charts.js?v=20260127-26"></script>
    <script src="assets/js/dashboard.js?v=20260127-5"></script>
    <script>
        // Garantir que tooltips funcionem e apare√ßam acima de tudo usando position: fixed
        // Desabilitar tooltips CSS para evitar duplica√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            // Adicionar estilo para desabilitar tooltips CSS quando JavaScript est√° ativo
            const style = document.createElement('style');
            style.textContent = `
                .tooltip-icon.js-enabled::after,
                .tooltip-icon.js-enabled::before {
                    display: none !important;
                }
                .chart-title-with-tooltip:hover .tooltip-icon.js-enabled::after,
                .chart-title-with-tooltip:hover .tooltip-icon.js-enabled::before {
                    display: none !important;
                }
            `;
            document.head.appendChild(style);
            
            const tooltipIcons = document.querySelectorAll('.tooltip-icon');
            tooltipIcons.forEach(icon => {
                const tooltipText = icon.getAttribute('data-tooltip');
                if (tooltipText) {
                    // Marcar √≠cone como tendo JavaScript habilitado
                    icon.classList.add('js-enabled');
                    
                    let tooltipElement = null;
                    
                    icon.addEventListener('mouseenter', function(e) {
                        // Prevenir que tooltip CSS apare√ßa
                        const rect = icon.getBoundingClientRect();
                        
                        // Criar tooltip din√¢mico com position: fixed
                        tooltipElement = document.createElement('div');
                        tooltipElement.className = 'tooltip-dynamic';
                        tooltipElement.innerHTML = tooltipText.replace(/\n/g, '<br>').replace(/&#10;/g, '<br>');
                        tooltipElement.style.cssText = `
                            position: fixed !important;
                            top: ${rect.top - 10}px !important;
                            left: ${rect.left + rect.width / 2}px !important;
                            transform: translateX(-50%) translateY(-100%) !important;
                            background-color: #1e293b !important;
                            color: white !important;
                            padding: 12px 20px !important;
                            border-radius: 8px !important;
                            font-size: 0.85rem !important;
                            white-space: pre-line !important;
                            width: 320px !important;
                            max-width: 90vw !important;
                            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5) !important;
                            z-index: 999999 !important;
                            border: 1px solid #334155 !important;
                            pointer-events: none !important;
                            line-height: 1.6 !important;
                            opacity: 1 !important;
                            visibility: visible !important;
                        `;
                        document.body.appendChild(tooltipElement);
                        icon._tooltipElement = tooltipElement;
                    });
                    
                    icon.addEventListener('mouseleave', function() {
                        if (icon._tooltipElement) {
                            icon._tooltipElement.remove();
                            icon._tooltipElement = null;
                        }
                    });
                    
                    // Atualizar posi√ß√£o ao mover o mouse
                    icon.addEventListener('mousemove', function(e) {
                        if (icon._tooltipElement) {
                            const rect = icon.getBoundingClientRect();
                            icon._tooltipElement.style.top = (rect.top - 10) + 'px';
                            icon._tooltipElement.style.left = (rect.left + rect.width / 2) + 'px';
                        }
                    });
                }
            });
        });
    </script>
</body>
</html>
